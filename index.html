<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test Cuestionario Político</title>
</head>
<body>
  <h1>Simulador de envío a Apps Script</h1>

  <p>Este botón envía respuestas simuladas al backend de Apps Script y muestra la respuesta.</p>

  <button onclick="enviarRespuestas()">Enviar respuestas</button>

  <pre id="resultado" style="background:#eee; padding:1em; margin-top:1em;"></pre>

  <script>
    async function enviarRespuestas() {
        const respuestas = [2, 1, 0, -1, 2, 0, -2, 1, -1, 2];
        const query = respuestas.join(",");
        const endpoint = "https://script.google.com/macros/s/AKfycbzIRaUchsyPj1sBRH7t86pYhqdz4sAwR4VHNyVRn-vC2uYlg0eKU-tyau535YajmHwT3A/exec?respuestas=" + encodeURIComponent(query);

        try {
        const res = await fetch(endpoint);
        if (!res.ok) throw new Error("Error en la respuesta del servidor");

        const data = await res.json();
        console.log(data);
        document.getElementById("resultado").textContent = JSON.stringify(data, null, 2);
        } catch (error) {
        console.error("Error al enviar respuestas:", error);
        document.getElementById("resultado").textContent = "Error al obtener respuesta del servidor.";
        }
    }
    </script>

</body>
</html>
